<div class="selection-container">
  
  <ng-container *ngIf="availableBarbers$ | async as barbers">
    
    <!-- CASO: HAY BARBEROS DISPONIBLES -->
    <div class="barbers-grid" *ngIf="barbers.length > 0; else emptyState">
      
      <!-- Iteramos sobre los barberos filtrados -->
      <div *ngFor="let barber of barbers" class="grid-item">
        <app-avatar-selection-card
          [name]="barber.name + ' ' + barber.lastName"
          [photoUrl]="barber.photoUrl"
          [selected]="barber.id === preSelectedBarberId"
          (onClick)="selectBarber(barber)">
        </app-avatar-selection-card>
      </div>

    </div>

    <!-- CASO: NO HAY BARBEROS -->
    <ng-template #emptyState>
      <div class="empty-state">
        <!-- Icono SVG de 'Usuario no encontrado' -->
        <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
          <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
          <circle cx="8.5" cy="7" r="4"></circle>
          <line x1="18" y1="8" x2="23" y2="13"></line>
          <line x1="23" y1="8" x2="18" y2="13"></line>
        </svg>
        <p>Lo sentimos, no hay profesionales disponibles para este servicio actualmente.</p>
      </div>
    </ng-template>

  </ng-container>

  <!-- Loader -->
  <div class="loading-state" *ngIf="!(availableBarbers$ | async)">
    <p>Cargando profesionales...</p>
  </div>

</div>